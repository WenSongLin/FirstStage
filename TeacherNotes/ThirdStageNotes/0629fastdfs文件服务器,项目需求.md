# 0629fastdfs文件服务器,项目需求

## 1.fastdfs作用

一旦引入tomcat集群后,用户上传的文件不能在存储在tomcat根路径下.需要引入独立的服务器来存储文件.要求该文件服务器支持集群环境(分布式部署).



文件存储服务:

fastdfs适合存储中小型文件的服务器(100M以下).一般应用在web开发中.后台管理系统

hdfs大数据开发,数据分析.

云文件存储服务(对象存储).一般应用在互联网项目.



## 2.fastdfs服务器中的架构思想

跟踪服务器TrackerServer:管理所有的存储服务器的地址与状态信息,与应用服务器做对接.

存储服务器组StorageServer:具体存储文件,并定时向跟踪服务器发送心跳包(硬件状态信息),每组中两台存储服务器

客户端:用户上传文件,首先连接TrackerServer,返回一个空闲可用的存储服务器信息,客户端通过api把文件存储到具体的这台存储服务器,存储成功后,返回存储路径字符串(/group1/aa/bb/xx/asdafafasdfasdfas.docx);

​	   用户下载文件,连接TrackerServer,把存储路径传给TrackerServer,返回客户端group1的存储服务器信息,客户端通过api去这台具体的存储服务器下载文件.



## 3.api使用

- 引入fastdfs依赖包
- 初始化TrackerClient对象
- 打开TrackerServer连接
- 初始化StorageClient1对象
- 进行文件上传操作,上传操作的内部会打开StorageServer连接.



为了上传的图片能够进行预览显示.需要在fastdfs跟踪服务器上,部署一个静态http服务器程序(nginx)



## 4.项目需求

企业应用管理系统:CRM,电子经销存系统

不要手工向表中添加测试数据,html页面(表格,表单)中不要显示id.

审核功能,不准交给一个人,每个人各负责一个申请审核模块,每人都要思考讨论.



系统管理:

- 用户(**)

- 角色(**)

- 权限(**)(三级菜单,有上下级关系)

- 部门(**)(组织结构,有上下级关系)

- 字典项(***)(固定的列表数据,一般应用下拉框,复选框,单选框)

- 日志(***)(记录登录用户的添加,删除,修改操作),记录某人在某时间,执行了某个模块下的什么操作,成功与否.



商品与赠品管理

- 商品管理

  - 产品查询(***)(产品数据进行excel导入,导出),查询,模板下载,导入,导出.导入时候一定要注意失败(重复,数据异常).导入时候注意不要循环100次,进行数据库插入.

  - 商品管理(***)(一类商品是主卖商品,二类商品是赠品也可卖的商品).商品最低库存量改为库存量.

  - 商品品牌管理(*)

  - 商品类型管理(***)视图做成左树右表格.点击左侧树节点,表格中加载该节点下的子节点.商品品牌与类型关联

  - 供应商管理(**),供应商与商品之间有多对多关系

  - 价格调整管理(****)  添加申请单页面以下4个操作:保存草稿,保存并提交,重置,取消

    ​				    申请单状态(草稿,审批中,已通过,已驳回),只有草稿状态才可以进行修改删除

    ​				    一个申请单有多条审核记录

    ​				绝对不允许把申请单信息与审核记录信息放在一张数据库表中.

  - 价格调整审核(****) ,经理或处长角色能够进行申请单审核.

    ​				   组内讨论下,把审核功能封装组件.

- 赠品管理

  - 赠品管理(*)赠品可选择二类商品数据;也可以自己输入赠品数据.赠品也有库存量的概念.

    ​			保存草稿,保存并提交,重置,取消

  - 赠品转商品管理

  - 赠品转商品审核

  - 商品转赠品管理

  - 商品转赠品审核



- B2C销售订单管理

  - B2C订单管理(\*****)(数据从excel导入)

  - B2C销售出库(*****(列表显示的是所有状态为待出库的订单)

    ​	订单状态改为已出库;

    ​	商品出库表中维护数据(订单编号,商品编号,商品串码(随机),商品状态(已签收,已拒收)....)

    ​	一个订单生成一个word出库单,如果有多个,进行压缩,下载.

    ​	维护出库记录表(某个人,在什么时间对某个订单进行了出库单生成)

  - B2C销售出库单记录:查看出库记录.

- 售后管理

  - 退货换申请管理

    - B2C退换货申请管理(客户通过客户电话,网络,线下渠道进行退换货申请到售后,由售后人员进行退换货申请单的提交)

      ​	不做不同机型换货;

      ​	退换货诉求,不需要维护新商品信息,需要选择退货原因,如果退货原因是质量问题,需要输入问题是什么.

    - B2C退换货审核

  - 返厂出入库管理

    - 维修点管理
    - 返厂出库管理(把退货换的质量出问题的商品,返厂给厂家进行维修.),选择商品是从退换货申请通过的有质量问题的商品列表,返厂出库申请单中的返厂地点是选择维修点.
    - 返厂出库审核
    - 返厂入库管理(厂家把商品维修后,厂家把商品发给经销商,经销商对商品进行入库操作),选择商品是从已返厂出库的问题商品,不需要再有返厂地点.
    - 返厂入库审核



  28个模块






















